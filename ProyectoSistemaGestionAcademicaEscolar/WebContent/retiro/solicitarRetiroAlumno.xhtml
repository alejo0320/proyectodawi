<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/templates/crud-template.xhtml">

	<ui:define name="title">
		I.E.P &quot;SAN CARLOS&quot;
	</ui:define>
	
	<ui:define name="header">
		<ui:include src="/snippets/header.xhtml" />
	</ui:define>

	<ui:define name="menu">
		<ui:include src="/snippets/menu.xhtml" />
	</ui:define>

	<ui:define name="body">
<div align="left">
<p:growl id="msgs" showDetail="true" sticky="false" life="10000"/>
<h:form id="form" style="width: 800px;">  
<p:panel header="Solicitud Retiro Alumno">
<h:panelGrid columns="3">
<h:outputText value="Alumno" style="font-weight:bold"/>
<h:selectOneMenu value="#{alumnoBean.retiroAlumno.strCodigoAlumno}" required="true" 
                 requiredMessage="Seleccione un Alumno">
	<f:selectItem itemLabel="Seleccione Alumno" itemValue="#{null}"/>
	<f:selectItems value="#{alumnoBean.alumnosXapoderado}" var="alumno"
	               itemLabel="#{alumno.strNombres} #{alumno.strApellidoPaterno} #{alumno.strApellidoMaterno}" itemValue="#{alumno.strCodigoAlumno}"/>            
</h:selectOneMenu>
<p:commandButton value="Cargar" actionListener="#{alumnoBean.CargaRetiroAlumno}"  
                 update="msgs dlgForm:display" oncomplete="cargaDatosRetiro(args)"/>
</h:panelGrid>
</p:panel>
</h:form> 

<p:dialog header="Formato Solicitud de Retiro" widgetVar="datosDialog" resizable="false" id="datosDlg"  
                showEffect="fade" hideEffect="explode" modal="true" width="400" position="center">  
<h:form id="dlgForm">  
          <h:panelGrid id="display" columns="2" cellpadding="2" style="margin:0 auto;" >  
           
          <h:outputText value="Codigo Alumno" style="font-weight:bold"/>
		  <p:inputText  value="#{alumnoBean.alumno.strCodigoAlumno}" style="font-weight:bold" readonly="true"/>

		  <h:outputText value="Nombres y Apellidos" style="font-weight:bold"/>
          <p:inputText value="#{alumnoBean.alumno.strNombres} #{alumnoBean.alumno.strApellidoPaterno} #{alumnoBean.alumno.strApellidoMaterno}" style="font-weight:bold" readonly="true"/>

          <h:outputText value="Grado y Sección" style="font-weight:bold"/>
          <p:inputText value="#{alumnoBean.alumno.intGrado} º #{alumnoBean.alumno.strSeccion}" style="font-weight:bold" readonly="true"/>
		
		  <h:outputText value="Motivo" style="font-weight:bold"/>
		  <h:selectOneMenu value="#{alumnoBean.retiroAlumno.strCodigoAlumno}" required="true" 
                 requiredMessage="Seleccione un Alumno">
			<f:selectItem itemLabel="Seleccione Alumno" itemValue="#{null}"/>
			<f:selectItems value="#{alumnoBean.alumnosXapoderado}" var="alumno"
	               itemLabel="#{alumno.strNombres} #{alumno.strApellidoPaterno} #{alumno.strApellidoMaterno}" itemValue="#{alumno.strCodigoAlumno}"/>            
		 </h:selectOneMenu>	
			
          <f:facet name="footer"> 
                <p:outputPanel rendered="true" layout="block" style="text-align:center">
                <h:panelGroup>
					  <p:commandButton value="Grabar" 
					  actionListener="#{alumnoBean.actualizaAlumno}"  
					  update="msgs" 
                      image="ui-icon ui-icon-check"
                      oncomplete=""/>
                    <p:commandButton value="Cancelar" onclick="datosDialog.hide()" type="button" image="ui-icon ui-icon-close"/>
  				</h:panelGroup>
              </p:outputPanel>  
          </f:facet>  

        </h:panelGrid> 
       </h:form>
    </p:dialog>       
</div>
	</ui:define>

	<ui:define name="footer">
		<ui:include src="/snippets/footer.xhtml" />
	</ui:define>
</ui:composition>